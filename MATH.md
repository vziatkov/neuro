# üìê –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

–ü—Ä–æ—Å—Ç—ã–µ —Ñ–æ—Ä–º—É–ª—ã –∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

## üåê –ì–µ–æ–º–µ—Ç—Ä–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

### –°—Ñ–µ—Ä–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ 3D –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:

```
x = r √ó sin(œÜ) √ó cos(Œ∏)
y = r √ó sin(œÜ) √ó sin(Œ∏)
z = r √ó cos(œÜ)
```

–ì–¥–µ:
- **r** ‚Äî —Ä–∞–¥–∏—É—Å (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)
- **œÜ (phi)** ‚Äî —É–≥–æ–ª –Ω–∞–∫–ª–æ–Ω–∞ (0 –¥–æ œÄ)
- **Œ∏ (theta)** ‚Äî –∞–∑–∏–º—É—Ç (0 –¥–æ 2œÄ)

**–ü—Ä–∏–º–µ—Ä:**
```typescript
const phi = Math.acos(2 * Math.random() - 1); // –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
const theta = Math.random() * Math.PI * 2;
const x = radius * Math.sin(phi) * Math.cos(theta);
```

### –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏

–ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ 3D:

```
d = ‚àö[(x‚ÇÇ - x‚ÇÅ)¬≤ + (y‚ÇÇ - y‚ÇÅ)¬≤ + (z‚ÇÇ - z‚ÇÅ)¬≤]
```

**–í –∫–æ–¥–µ:**
```typescript
const distance = pos1.distanceTo(pos2); // Three.js
```

### –û–±—ä—ë–º–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–¥–ª—è —à–∞—Ä–∞)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±—ä—ë–º —Å—Ñ–µ—Ä—ã (–Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å):

```
r = R √ó ‚àõ(random)
```

–ì–¥–µ `random` ‚Äî —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 1.

## üìä –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

### –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

```
P(connect) = connectionStrength √ó (1 - distance / maxDistance)
```

–ß–µ–º –±–ª–∏–∂–µ —É–∑–ª—ã, —Ç–µ–º –±–æ–ª—å—à–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

### –°–ª—É—á–∞–π–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ —Å—Ñ–µ—Ä—ã

```typescript
// –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å (1.0) –∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ (0.0)
if (Math.random() < surfaceDistribution) {
    radius = maxRadius; // –ù–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
} else {
    radius = maxRadius * Math.cbrt(Math.random()); // –í–Ω—É—Ç—Ä–∏
}
```

## üåä –í–æ–ª–Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–∏–º–ø—É–ª—å—Å—ã)

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ–ª–Ω—ã

–í—Ä–µ–º—è –∏ —Ä–∞–¥–∏—É—Å:

```
pulseRadius = timeSinceClick √ó pulseSpeed
```

–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –≤–æ–ª–Ω—ã:

```
intensity = smoothstep(thickness, 0, |distance - pulseRadius|) √ó fade
```

–ì–¥–µ:
- `smoothstep(a, b, x)` ‚Äî –ø–ª–∞–≤–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è
- `|distance - pulseRadius|` ‚Äî –Ω–∞—Å–∫–æ–ª—å–∫–æ –±–ª–∏–∑–∫–æ –∫ —Ñ—Ä–æ–Ω—Ç—É –≤–æ–ª–Ω—ã

### –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏

–°–∏–Ω—É—Å–æ–∏–¥–∞–ª—å–Ω–∞—è –ø—É–ª—å—Å–∞—Ü–∏—è —Ü–≤–µ—Ç–∞:

```
brightness = 0.8 + 0.2 √ó sin(time √ó 0.5 + offset)
```

## üé® –®–µ–π–¥–µ—Ä—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### –ü—Ä–æ—Å—Ç–æ–π —à—É–º (–¥–ª—è —É–∑–ª–æ–≤)

```glsl
float noise = sin(position.x * 0.1 + time) * sin(position.y * 0.1 + time);
float glow = 0.5 + 0.5 * noise;
```

### Bloom-—ç—Ñ—Ñ–µ–∫—Ç

–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –ø–æ—Ä–æ–≥–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º:

```
if (brightness > threshold) {
    bloom = (brightness - threshold) √ó strength
}
```

## üî¢ –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è (Lerp)

–ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:

```
result = start + (end - start) √ó t
```

–ì–¥–µ `t` ‚Äî –æ—Ç 0 –¥–æ 1.

**–ü—Ä–∏–º–µ—Ä:** –¶–≤–µ—Ç –æ—Ç –∫—Ä–∞—Å–Ω–æ–≥–æ –∫ —Å–∏–Ω–µ–º—É:
```typescript
const t = 0.5; // –ü–æ–ª–æ–≤–∏–Ω–∞ –ø—É—Ç–∏
const r = red.r + (blue.r - red.r) * t;
```

## üìà –£—Ä–æ–≤–Ω–∏ –∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã

### –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —É–∑–ª–∞

```
level = floor((distanceFromRoot / maxDistance) √ó maxLevels)
```

–£–∑–ª—ã –¥–∞–ª—å—à–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–∏–π —É—Ä–æ–≤–µ–Ω—å ‚Üí –¥—Ä—É–≥–æ–π —Ü–≤–µ—Ç.

### –†–∞–¥–∏–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

–î–ª—è –∫–æ–ª–µ—Ü/—Å–ø–∏—Ä–∞–ª–µ–π:

```
ringRadius = baseRadius + ringIndex √ó spacing
angle = (nodeIndex / nodesPerRing) √ó 2œÄ
```

## üéØ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

```
if (currentConnections < maxConnections && distance < threshold) {
    connect();
}
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é

```
if (distance¬≤ < connectionRadius¬≤) {
    // –ë–µ–∑ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –∫–æ—Ä–Ω—è (–±—ã—Å—Ç—Ä–µ–µ)
}
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### Smoothstep (–≥–ª–∞–¥–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥)

```typescript
function smoothstep(edge0, edge1, x) {
    const t = clamp((x - edge0) / (edge1 - edge0), 0, 1);
    return t * t * (3 - 2 * t);
}
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (Clamp)

```
value = max(min, min(max, value))
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–∞

```
length = ‚àö(x¬≤ + y¬≤ + z¬≤)
normalized = (x/length, y/length, z/length)
```

## üîç –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –∫–æ–¥–∞

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–∑–ª–æ–≤ –≤ —Å–µ—Ç–∫–µ

```typescript
for (let y = 0; y < height; y++) {
    for (let x = 0; x < width; x++) {
        const pos = new THREE.Vector3(
            offsetX + x * spacing,  // –õ–∏–Ω–µ–π–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
            0,
            offsetY + y * spacing
        );
    }
}
```

### –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É–∑–ª–æ–≤ –ø–æ –±–ª–∏–∑–æ—Å—Ç–∏

```typescript
const distSq = node1.position.distanceToSquared(node2.position);
if (distSq < connectionRadiusSq) {
    const strength = 1.0 - Math.sqrt(distSq) / connectionRadius;
    node1.addConnection(node2, strength);
}
```

---

üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—Å–µ —Ñ–æ—Ä–º—É–ª—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —Ä–µ–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ. –î–ª—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–º–æ—Ç—Ä–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏ –≤ `src/modules/`.

